<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="bower_components/requirejs/require.js"></script>
<script>
//select?
var url = "data/pl_PL.utf8.txt";

// constant
var size = 4;

// parse?
var letters = [
	's', 'Å‚', 'r', 'e',
	'g', 'o', 'w', 'p',
	'k', 'r', 'u', 'o',
	'a', 'o', 't', 's'
];
</script>
<script>
require.config({
	paths : {
		"jquery": "bower_components/jquery/dist/jquery",
		"underscore": "bower_components/underscore/underscore", 
		"underscore.string": "bower_components/underscore.string/lib/underscore.string"
	}
});

require(["lib/data", "lib/dictionary", "lib/board"], function(Data, Dictionary, Board) {
	var letter = function(index) {
		return letters[index];
	};
	
	var word = function(array) {
		return array.map(letter).join("");
	};
	
	Data.load(url).then(function(words) {
		var board = new Board(size);
		var dictionary = new Dictionary(words);
		var callback = function(array) {
			var string = word(array);
			if (dictionary.containsPrefix(string)) {
				if (dictionary.containsWord(string)) {
					console.debug(string, array);
				}
				return true;
			} else {
				return false;
			}
		};
		board.search(callback);
	});
});
</script>
</head>
<body>
</body>
</html>
